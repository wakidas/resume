## 概要
ペイトナー社での1→10のチームビルディング。主にワークマネジメントによる開発生産性向上。

## その対象をどのような状態にする責務がありましたか？
ペイトナー入社当初は、これまでCTOが開発組織内で唯一の管理職で、二つの事業にまたがる20〜30人のエンジニアのマネジメントを一手に担っていた。しかし、開発フローはプロダクト立ち上げ期の延長であり、権限委譲も進んでおらず、CTO自らがコードレビュワーもやってており開発速度の大きなボトルネックになっていた。
私の役割は、片方の事業のEMとしてCTOからマネジメント業務を剥がすことだった。私含めジュニア寄りのメンバーが多いチームであったのだが、属人性を排除し、若いメンバーでも開発していけるようルールメイクやドキュメント整備を進め、開発生産性改善活動を行なった

## その状態を作るためにあなたはどのように考えましたか？その途中でどのような問題や障害があり、どう工夫したのかもご記載ください。
本取り組みにおいては、「定量・定性両面でアプローチすることの大切さ」を学んだ。

---
ここでの開発生産性向上においては、当初「コードレビューでプルリクエスト（以後PRと記載）が停滞する」という問題が顕在化していた。停滞の理由は、一次レビュー後、実質チームのテックリードであるCTO最終コードレビューでの手戻りが多いことが分かった。

Findy Team+を導入し生産性可視化を行なっていたが、レビューボトルネック問題はFour Keysの一つである「変更リードタイム」の長さにも表れていた。

当初私は、「コードの品質が低いこと」が手戻りの最大の原因であるという仮説を立て、以下の施策を実行した。

- ペアプロ・ペアレビュー
- 技術書輪読会の開始
- 設計レビュー導入
- 一次レビュワー増員
- レビューフロー改善

また、価値提供をすばやく行える状態を作るため、全員がスクラム未経験であったが、自身がスクラムマスターとなってスクラムの導入も行なった。

半年後、変更リードタイムの指標を確認すると改善も悪化も見られなかった。取り組みを推進してきた立場としてはショックを受けつつも、メンバーにこの事実をフィードバックすると、意外にも「開発者体験はすごく上がっていますよ」という反応が返ってきた。

開発者体験が上がっていると感じる部分を具体的に聞いてみると、以下のような意見が出た。

- レビューフローの改善により、レビューのレスポンスが早くなっている
- タスクを適切な粒度で分割することにより、進捗が見えやすくなったり、優先度を付けやすくなった
- スクラムの枠組みの中で振り返りを開始して、1週間単位で改善のサイクルが回るようになり、日々感じる負がすぐに解消されるようになった
- スクラムにおいて「スプリントゴール」を定めるようになり、同じ方向を向いて開発を進められるようになった

自身もスクラムマスター兼開発者としてチームの中にいるため、肌感としては合っている。

さらに原因を深掘りするため生産性指標を見ていると、「1PRあたりの平均変更行数」が変わっていないことが分かった。適切なタスク分割ができ、それが開発者体験の向上につながっているにも関わらず結果として定量指標が改善されていない原因は、スクラム外のフローを経て作成された一部のPRが異常に大きく（変更行数数千行）、それが結果として指標を悪化させていた。当然、そのような巨大なPRはレビュー負荷も高く、リードタイムを長くしてしまう。

以上を経て、「PR変更行数」を改善のKPIと定めた。以降、フィーチャーフラグを使ったトランクベース開発を導入し、1PRあたり平均変更行数は1/3ほどに小さくなった。

本取り組みにおいて、定量・定性両面でアプローチすることの大切さを学んだ。
定量指標だけ見ていたら、「数値が改善されていない」という理由だけで方向性は間違っていない施策を途中でやめてしまったり、最終的な重要KPIを見つけるまでにさらに時間を要したかもしれない。

参考
- [「コード品質？レビュー効率？いや、PR数だ！！！ - Paytner テックブログ」](https://paytner.hatenablog.com/entry/developer-productivity-adcale-20221216)